<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="/styles/list.css">
<link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

<div class="mdc-data-table">
  <div class="mdc-data-table__table-container">
    <table class="mdc-data-table__table" aria-label="Advocacy Resources">
      <thead>
        <tr class="mdc-data-table__header-row">
            {{#each columnNames}}
            {{#if (isSortableByStr this)}}
            <th class="mdc-data-table__header-cell mdc-data-table__header-cell--with-sort"
                aria-sort="ascending"
                data-column-id={{this}}
                role="columnheader" scope="col"
            >
                <div class="mdc-data-table__header-cell-wrapper">
                    <div class="mdc-data-table__header-cell-label">{{this}}</div>
                    <button class="mdc-icon-button material-icons mdc-data-table__sort-icon-button"
                            aria-label="Sort by {{this}}" aria-describedby="dessert-status-label">arrow_upward
                    </button>
                    <div class="mdc-data-table__sort-status-label" aria-hidden="true" id="dessert-status-label">
                    </div>
                </div>
            </th>
            {{else}} {{#if (isSortableByNum this)}}
            <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric mdc-data-table__header-cell--with-sort mdc-data-table__header-cell--sorted"
                aria-sort="ascending"
                data-column-id={{this}}
                role="columnheader" scope="col"
            >
                    <div class="mdc-data-table__header-cell-wrapper">
                    <div class="mdc-data-table__header-cell-label">{{this}}</div>
                    <button class="mdc-icon-button material-icons mdc-data-table__sort-icon-button"
                            aria-label="Sort by {{this}}" aria-describedby="dessert-status-label">arrow_upward
                    </button>
                    <div class="mdc-data-table__sort-status-label" aria-hidden="true" id="dessert-status-label">
                    </div>
                </div>
            </th>
            {{else}}
            <th class="mdc-data-table__header-cell" role="columnheader" scope="col">{{this}}</th>
            {{/if}}{{/if}}
            {{/each}}
        </tr>
      </thead>
      <tbody id="list" class="mdc-data-table__content">
        {{#each list}}
        <!-- Alternating row shading -->
        <tr class="mdc-data-table__row" {{#if (isOdd @index)}} style="background-color: #F5F5F5;" {{/if}}>
            <th class="mdc-data-table__cell" scope="row">{{this.resourceTypeDisplay}}</th>
            <td class="mdc-data-table__cell">{{this.resourceName}}
                <p onclick="displayPopup()" style="font-size: small; cursor:pointer"> 
                    Show Info 
                    <span class="hidden" id="myPopup">{{this.resourceServices}}</span>
                </p>
                <script>function displayPopup(){
                  var popup=document.getElementById(myPopup);
                  console.log(popup);
                  popup.classList.toggle("hidden");
                  }
                </script>
            </td>
            
            <td class="mdc-data-table__cell">{{this.resourcePhone}}</td>
            <td class="mdc-data-table__cell">{{this.resourceAddress}}</td>
            <td class="mdc-data-table__cell">{{this.resourceCity}}</td>
            <td class="mdc-data-table__cell">{{this.resourceState}}</td>
            <td class="mdc-data-table__cell">{{this.resourceZip}}</td>
            <td class="mdc-data-table__cell">{{this.resourceHours}}</td>
            <td class="mdc-data-table__cell">
                <a href="{{this.resourceWebsite}}">{{this.resourceWebsite}}</a>
            </td>
            <td class="mdc-data-table__cell" style="word-wrap: normal; width: 20%;">
                {{resourceLinks this.resourceLink}}
            </td>
            <td class="mdc-data-table__cell">{{this.resourceReferrals}}</td>
            <td class="mdc-data-table__cell">{{this.resourceSuccessPercent}}</td>
            <td class="mdc-data-table__cell">
                <a href="/resource/{{this._id}}">
                    <button class="mdc-icon-button material-icons" style="color: black">mode_edit</button>
                </a>
                <a href="/resource/delete/{{this._id}}">
                    <button onclick="return confirm('Are you sure to delete this record?');" class="mdc-icon-button material-icons" style="color: black">delete</button>
                </a>
            </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
<div class="mdc-data-table__pagination">
    <div class="mdc-data-table__pagination-trailing">
        <div class="mdc-data-table__pagination-rows-per-page">
            <div class="mdc-data-table__pagination-rows-per-page-label">
                Rows per page
            </div>
            <div class="mdc-select mdc-select--outlined mdc-select--no-label mdc-data-table__pagination-rows-per-page-select">
            <div class="mdc-select__anchor" role="button" aria-haspopup="listbox"
                aria-labelledby="demo-pagination-select" tabindex="0">
            <span class="mdc-select__selected-text-container">
                <span id="demo-pagination-select" class="mdc-select__selected-text">10</span>
            </span>
            <span class="mdc-select__dropdown-icon">
                <svg
                    class="mdc-select__dropdown-icon-graphic"
                    viewBox="7 10 10 5">
                    <polygon
                        class="mdc-select__dropdown-icon-inactive"
                        stroke="none"
                        fill-rule="evenodd"
                        points="7 10 12 15 17 10">
                    </polygon>
                    <polygon
                        class="mdc-select__dropdown-icon-active"
                        stroke="none"
                        fill-rule="evenodd"
                        points="7 15 12 10 17 15">
                    </polygon>
                </svg>
            </span>
            <span class="mdc-notched-outline mdc-notched-outline--notched">
            <span class="mdc-notched-outline__leading"></span>
            <span class="mdc-notched-outline__trailing"></span>
            </span>
        </div>

          <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth" role="listbox">
            <ul class="mdc-list">
              <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" role="option" data-value="10">
                <span class="mdc-list-item__text">10</span>
              </li>
              <li class="mdc-list-item" role="option" data-value="25">
                <span class="mdc-list-item__text">25</span>
              </li>
              <li class="mdc-list-item" role="option" data-value="100">
                <span class="mdc-list-item__text">100</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="mdc-data-table__pagination-navigation">
        <div class="mdc-data-table__pagination-total">
          1â€‘10 of 100
        </div>
        <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-first-page="true" disabled>
          <div class="mdc-button__icon">first_page</div>
        </button>
        <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-prev-page="true" disabled>
          <div class="mdc-button__icon">chevron_left</div>
        </button>
        <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-next-page="true">
          <div class="mdc-button__icon">chevron_right</div>
        </button>
        <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-last-page="true">
          <div class="mdc-button__icon">last_page</div>
        </button>
      </div>
    </div>
</div>